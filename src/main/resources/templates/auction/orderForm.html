<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Order Form</title>
</head>
<body>
<h1>Order Form</h1>


<!-- 책 정보 표시 -->
<div>
    <h2>주문 하실 책</h2>
    <div>
        <img th:src="${tempOrder.bookInfo.image}" alt="Book Image" width="200">
    </div>
    <div>
        <h3>Title: <span th:text="${tempOrder.bookInfo.title}"></span></h3>
        <h3>Price: <span th:text="${tempOrder.bookInfo.price}"></span>원</h3>
    </div>
</div>

<form th:action="@{/auction/order/{tempOrderId}}" method="post" th:object="${tempOrder}">
    <!-- 배송지 -->
    <h2>Shipping Address</h2>
    <input type="radio" name="shippingOption" value="same" > 고객의 기본 주소로 배송하기 <br>
    <input type="radio" name="shippingOption" value="new" checked="checked"> 새로운 주소 입력하기 <br>

    <div th:id="shippingAddressFields">
        <label for="shippingAddress1">도로명 주소 : </label>
        <input type="text" id="shippingAddress1" name="shippingAddress1"><br>

        <label for="shippingAddress2">상세 주소 : </label>
        <input type="text" id="shippingAddress2" name="shippingAddress2"><br>

        <label for="zipcode">우편번호 : </label>
        <input type="text" id="zipcode" name="zipcode"><br>
    </div>

    <script th:inline="javascript">
    var shippingOptionInput = document.querySelectorAll('input[name="shippingOption"]');
    var shippingAddressFields = document.getElementById('shippingAddressFields');

    function toggleShippingAddressFields() {
        if (shippingOptionInput[1].checked) {
            shippingAddressFields.style.display = 'block';
        } else {
            shippingAddressFields.style.display = 'none';
        }
    }

    for (var i = 0; i < shippingOptionInput.length; i++) {
        shippingOptionInput[i].addEventListener('change', toggleShippingAddressFields);
    }

    toggleShippingAddressFields();
    </script>


    <!-- 결제 방법 -->
    <h2>결제방법</h2>
    <select name="payment" id="payment">
        <option value="cash">현금</option>
        <option value="creditCard">신용카드</option>
        <option value="bankTransfer">계좌이체</option>
    </select><br>

    <div id="creditCardFields">
        <!-- 카드 선택 -->
        <h3>Select Card</h3>
        <select name="card" id="card">
            <option value="card1">삼성카드</option>
            <option value="card2">신한카드</option>
            <option value="card3">현대카드</option>
            <option value="card4">우리카드</option>
        </select><br>
    </div>

    <script th:inline="javascript">
    var paymentSelect = document.getElementById('payment');
    var creditCardFields = document.getElementById('creditCardFields');

    function toggleCreditCardFields() {
        if (paymentSelect.value === 'creditCard') {
            creditCardFields.style.display = 'block';
        } else {
            creditCardFields.style.display = 'none';
        }
    }

    paymentSelect.addEventListener('change', toggleCreditCardFields);

    toggleCreditCardFields();
    </script>

    <!-- 배송 메시지 -->
    <h2>배송 메시지</h2>
    <textarea name="shippingMessage" id="shippingMessage" rows="4" cols="50"></textarea><br>

    <input type="submit" value="Place Order">
</form>
</body>
</html>